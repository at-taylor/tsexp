<html>

<head>
</head>

<body>

<div id="testCapturePage" data-role="page" data-add-back-btn="true" data-back-btn-text="back" data-back-btn-theme="c">

    <div data-theme="c" data-role="header" >
    <h1>File Upload with Jersey</h1>
    </div>

    <div data-role="content">
        Empty page
        <button id="testButton" >Click me</button>
        <button id="testButton2" onclick="gotPic(event);">Click me2</button>
        <br/>
        Test Camera Capture <input type="file" capture accept="image/*" id="takePictureField" onchange="gotPicture(event);">

        <img id="yourimage" heigth=100 width=100>
        <br/>
    </div>

    <script>
        $('#testCapturePage').live('pageinit', (function() {
           // alert("In live of testCapturePage");
           // console.log("In live of testCapturePage2");
            //$.mobile.changePage($('#testCapturePageAdd'));

          //  $('#testButton').click(function(event) {
         //       alert("in bound click() function");
          //      $.mobile.changePage('testadd.html');
          //  });

        }));


        function gotPicture(event) {
            //alert ("in gotpicture()");
            console.log("what follows is the gotPicture() event object");
            console.log(event.target);
            console.log(event.target.files);
            console.log(event.target.files[0]);

            var theFile = event.target.files[0];
            console.log("name = " + theFile.name);
            console.log("type = " + theFile.type);
            console.log("last date = " + theFile.lastModifiedDate);
            console.log("size = " + theFile.size);

            if(event.target.files.length == 1 &&
                event.target.files[0].type.indexOf("image/") == 0) {

                localStorage.setItem("fileUrl", URL.createObjectURL(event.target.files[0]));
                localStorage.setItem("fileName", theFile.name);
                localStorage.setItem("fileType", theFile.type);
                localStorage.setItem("fileDate", theFile.lastModifiedDate);
                localStorage.setItem("fileSize", theFile.size);
                //localStorage.setItem("fileData", JSON.stringify(event.target.files[0]));

                console.log("logging file items - url");
                console.log(localStorage.getItem("fileUrl"));

                $("#yourimage").attr("src",localStorage.getItem("fileUrl"));

                //alert("after set item");
                $.mobile.changePage('testadd.html');
            }
        }

       function gotPic(event) {
          alert ("in gotpic()");
          alert("about to changepage");
           $.mobile.changePage('testadd.html');

        <!--if(event.target.files.length == 1 &&-->
        <!--event.target.files[0].type.indexOf("image/") == 0) {-->
        <!--$("#yourimage").attr("src",URL.createObjectURL(event.target.files[0]));-->
        <!--localStorage.setItem("file", URL.createObjectURL(event.target.files[0]));-->
        <!--alert("after set item");-->
        <!--$.mobile.changePage("#testCapturePageAdd");-->
        <!--}-->
        <!--$.mobile.changePage('#testCapturePageAdd');-->
        }
    </script>

</div>



</body>
</html>