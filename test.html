<html>
<head>
    <link rel="stylesheet" href="css/jquery.mobile-1.3.2.min.css" />
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/text.css" />
    <script src="js/jquery.js"></script>
    <script src="js/jquery.mobile-1.3.2.min.js"></script>

</head>
<body>
<h1>File Upload with Jersey</h1>

<div id="testCapturePage" data-role="page" data-add-back-btn="true" data-back-btn-text="back" data-back-btn-theme="c">

<form action="http://localhost:8080/tssvc/resourcesS/upload" method="post" enctype="multipart/form-data">

    <p>
        Select a file : <input type="file" name="file" size="45" />
    </p>

    <input type="submit" value="Upload It" />
    <br/>
</form>

    Test Camera Capture <input type="file" capture accept="image/*" id="takePictureField" onchange="gotPic(event);">

    <img id="yourimage" heigth=100 width=100>
    <br/>

    Test Video Capture <input type="file" capture accept="video/*" id="takeVideoField" onchange="gotVid(event);">

    <video id="yourvid" src="none" height=100 width=100> </video>
    <br/>

    Test Audio Capture <input type="file" capture="camera" accept="audio/*" id="takeAudioField" >

    </div>

<script>

    var desiredWidth;

    $(document).bind('pageinit', (function() {

        console.log('onReady');
        alert("on Ready");
        //$("#takePictureField").on("change",gotPic);
        //$("#takePictureField").onchange(gotPic);
        //$("#yourimage").load(getSwatches);
        desiredWidth = window.innerWidth;
        if(!("url" in window) && ("webkitURL" in window)) {
            window.URL = window.webkitURL;
        }

    }));


    //Credit: <a href="https://www.youtube.com/watch?v=EPYnGFEcis4&;feature=youtube_gdata_player">https://www.youtube.com/watch?v=EPYnGFEcis4&;feature=youtube_gdata_player</a>

    function gotPic(event) {
        alert ("in gotpic()");
        if(event.target.files.length == 1 &&

           event.target.files[0].type.indexOf("image/") == 0) {

            $("#yourimage").attr("src",URL.createObjectURL(event.target.files[0]));

        }

    }
    function gotVid(event) {
        alert ("in gotvid()");
        if(event.target.files.length == 1 &&

                event.target.files[0].type.indexOf("video/") == 0) {

            $("#yourvid").attr("src",URL.createObjectURL(event.target.files[0]));

        }

    }

</script>
<script src="js/jquery.js"></script>
<script src="js/jquery.mobile-1.3.2.min.js"></script>

</body>
</html>