<html>

<head>
</head>

<body>

<div id="storyEditNewPage" data-role="page" data-add-back-btn="true" data-back-btn-text="back" data-back-btn-theme="c">
    <div data-theme="c" data-role="header" data-position="fixed" >
        <h1><img src="img/splash/logo.png"></h1>
        <a href="#MainNavPage" data-icon="home" class="ui-btn-right">Home</a>

    </div>

    <div data-role="content">

        <h2>Tell Story</h2>
        <a data-role="button" href="#" data-shadow="false" data-theme="none" onclick="submitIt()">
            <img src="img/navbut/next1.png" border="0"/>
        </a>

        <section class="ui-grid-a">
            <div class="ui-block-a">
                <label for="storyTitleTxt">Title:</label><input type="text" id="storyTitleTxt" length=80 >
                <label for="storyDateTxt">Date Taken:</label><input type="date" data-role="datebox" id="storyDateTxt" >
                <div data-role="fieldcontainer">
                    <div id="storyCategoryDiv">
                        <label for="storyCategoryList">Categories</label>
                        <select id="storyCategoryList" name="categoryList"  multiple >
                            <!--<option value="1">red</option>-->
                            <!--<option value="2">green</option>-->
                            <!--<option value="3">yellow</option>-->
                            <!--<option value="4">blue</option>-->
                        </select>
                    </div> <!-- categoryDiv -->
                <label for="storyDescrTxt">Description:</label>
                <textarea id="storyDescrTxt" data-role="none" >An editable textarea.</textarea>
            </div>
            <div class="ui-block-b">
                <input type="text" id="htmlSourceTxt" data-role="none">

            </div>

        </section>

    </div>       <!-- end of content div -->

    <div data-theme="c" data-role="footer" data-position="fixed" class="ui-bar" style="text-align: center" >
        <div style="display: inline-block"></div>
        <a href="#"><img height="51" width="50" src="img/navbut/home.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/user.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/addMedia.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/inviteFriends.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/myAccount.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/tellStory.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/mediaLIbrary.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/storyLibrary.png" /></a>
        <a href="#"><img height="51" width="50" src="img/navbut/requestStory.png" /></a>
    </div>

    <!--<script src="js/storylist.js"></script>-->
    <link rel="stylesheet" href="css/tinyedit/style.css" />

    <script type="text/javascript" src="js/vendor/tinyedit/tinyeditor.js"></script>
    <script type="text/javascript">
        console.log("Before declaring the editor and attaching it. Data role is none.");
        new TINY.editor.edit('editor',{
            id:'storyDescrTxt',
            width:900,
            height:250,
            cssclass:'te',
            controlclass:'tecontrol',
            rowclass:'teheader',
            dividerclass:'tedivider',
            controls:['bold','italic','underline','strikethrough','|','subscript','superscript','|',
                'orderedlist','unorderedlist','|','outdent','indent','|','leftalign',
                'centeralign','rightalign','blockjustify','|','unformat','|','undo','redo','n',
                'font','size','style','|','image','hr','link','unlink','|','cut','copy','paste','print'],
            footer:true,
            fonts:['Verdana','Arial','Georgia','Trebuchet MS'],
            xhtml:true,
            cssfile:'style.css',
            bodyid:'editor',
            footerclass:'tefooter',
            toggle:{text:'source',activetext:'wysiwyg',cssclass:'toggle'},
            resize:{cssclass:'resize'}
        });
        console.log("after declaring the editor");

        function submitIt() {
            console.log("In submitIt()");
            console.log("i value : " + editor.i.contentWindow.document.body.innerHTML);
            var theTarget = document.getElementById("htmlSourceTxt");
            theTarget.value = editor.i.contentWindow.document.body.innerHTML;

        }
        </script>

</div> <!-- end of storyListPage -->

</body>
</html>